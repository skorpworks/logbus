[2018-05-23T17:22:19,376][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [bar-2018.05][19] received shard failed for shard id [[bar-2018.05][19]], allocation id [ddfvFJXjSM6ImhDO8ftmJA], primary term [1], message [failed to perform indices:data/write/bulk[s] on replica [bar-2018.05][19], node[Vhfc1BQeTnK7tKDG0pTwOw], [R], s[STARTED], a[id=ddfvFJXjSM6ImhDO8ftmJA]], failure [NodeNotConnectedException[[foo.bar][192.168.1.11:9300] Node not connected]]
org.elasticsearch.transport.NodeNotConnectedException: [foo.bar][192.168.1.11:9300] Node not connected
        at org.elasticsearch.transport.TcpTransport.getConnection(TcpTransport.java:590) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TcpTransport.getConnection(TcpTransport.java:113) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService.getConnection(TransportService.java:506) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:482) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReplicasProxy.performOn(TransportReplicationAction.java:962) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.performOnReplica(ReplicationOperation.java:186) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.performOnReplicas(ReplicationOperation.java:170) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.execute(ReplicationOperation.java:130) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.onResponse(TransportReplicationAction.java:322) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.onResponse(TransportReplicationAction.java:264) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$1.onResponse(TransportReplicationAction.java:888) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$1.onResponse(TransportReplicationAction.java:885) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.index.shard.IndexShardOperationsLock.acquire(IndexShardOperationsLock.java:147) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationLock(IndexShard.java:1654) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction.acquirePrimaryShardReference(TransportReplicationAction.java:897) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction.access$400(TransportReplicationAction.java:93) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.doRun(TransportReplicationAction.java:281) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:260) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:252) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:69) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:618) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:613) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-5.6.9.jar:5.6.9]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_161]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_161]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_161]
[2018-05-23T17:22:19,675][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [bar-2018.05][44] received shard failed for shard id [[bar-2018.05][44]], allocation id [dmxHW6GuQ5G_NRSx-nwG9Q], primary term [1], message [failed to perform indices:data/write/bulk[s] on replica [bar-2018.05][44], node[Vhfc1BQeTnK7tKDG0pTwOw], [R], s[STARTED], a[id=dmxHW6GuQ5G_NRSx-nwG9Q]], failure [NodeNotConnectedException[[foo.bar][192.168.1.11:9300] Node not connected]]
org.elasticsearch.transport.NodeNotConnectedException: [foo.bar][192.168.1.11:9300] Node not connected
        at org.elasticsearch.transport.TcpTransport.getConnection(TcpTransport.java:590) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TcpTransport.getConnection(TcpTransport.java:113) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService.getConnection(TransportService.java:506) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:482) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReplicasProxy.performOn(TransportReplicationAction.java:962) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.performOnReplica(ReplicationOperation.java:186) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.performOnReplicas(ReplicationOperation.java:170) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.execute(ReplicationOperation.java:130) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.onResponse(TransportReplicationAction.java:322) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.onResponse(TransportReplicationAction.java:264) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$1.onResponse(TransportReplicationAction.java:888) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$1.onResponse(TransportReplicationAction.java:885) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.index.shard.IndexShardOperationsLock.acquire(IndexShardOperationsLock.java:147) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationLock(IndexShard.java:1654) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction.acquirePrimaryShardReference(TransportReplicationAction.java:897) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction.access$400(TransportReplicationAction.java:93) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.doRun(TransportReplicationAction.java:281) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:260) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:252) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:69) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:618) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:613) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-5.6.9.jar:5.6.9]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_161]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_161]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_161]
[2018-05-23T17:22:19,773][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,778][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,784][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,788][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,788][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,789][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,790][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,795][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,795][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,804][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,811][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,841][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [foo-2018.05.23][9] received shard failed for shard id [[foo-2018.05.23][9]], allocation id [rgu53sRBTfG4QcZKTW4VAw], primary term [2], message [mark copy as stale]
[2018-05-23T17:22:19,876][WARN ][org.elasticsearch.cluster.action.shard.ShardStateAction] [bar-2018.05][44] received shard failed for shard id [[bar-2018.05][44]], allocation id [dmxHW6GuQ5G_NRSx-nwG9Q], primary term [1], message [failed to perform indices:data/write/bulk[s] on replica [bar-2018.05][44], node[Vhfc1BQeTnK7tKDG0pTwOw], [R], s[STARTED], a[id=dmxHW6GuQ5G_NRSx-nwG9Q]], failure [NodeNotConnectedException[[foo.bar][192.168.1.11:9300] Node not connected]]
org.elasticsearch.transport.NodeNotConnectedException: [foo.bar][192.168.1.11:9300] Node not connected
        at org.elasticsearch.transport.TcpTransport.getConnection(TcpTransport.java:590) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TcpTransport.getConnection(TcpTransport.java:113) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService.getConnection(TransportService.java:506) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:482) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReplicasProxy.performOn(TransportReplicationAction.java:962) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.performOnReplica(ReplicationOperation.java:186) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.performOnReplicas(ReplicationOperation.java:170) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.ReplicationOperation.execute(ReplicationOperation.java:130) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.onResponse(TransportReplicationAction.java:322) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.onResponse(TransportReplicationAction.java:264) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$1.onResponse(TransportReplicationAction.java:888) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$1.onResponse(TransportReplicationAction.java:885) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.index.shard.IndexShardOperationsLock.acquire(IndexShardOperationsLock.java:147) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationLock(IndexShard.java:1654) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction.acquirePrimaryShardReference(TransportReplicationAction.java:897) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction.access$400(TransportReplicationAction.java:93) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.doRun(TransportReplicationAction.java:281) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:260) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:252) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:69) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:618) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:613) ~[elasticsearch-5.6.9.jar:5.6.9]
        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-5.6.9.jar:5.6.9]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_161]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_161]
        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_161]
